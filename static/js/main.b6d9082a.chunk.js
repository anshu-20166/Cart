(this.webpackJsonpcart=this.webpackJsonpcart||[]).push([[0],{18:function(t,e,n){t.exports=n(34)},23:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),o=n(13),r=n.n(o),i=(n(23),n(14)),s=n(15),l=n(17),u=n(16),d={image:{height:110,width:110,borderRadius:4,background:"#ccc"}},m=function(t){var e=t.product,n=e.price,c=e.title,o=e.qty,r=t.product,i=t.onIncreaseQuantity,s=t.onDecreaseQuantity,l=t.onDeleteProduct;return a.a.createElement("div",{className:"cart-item"},a.a.createElement("div",{className:"left-block"},a.a.createElement("img",{style:d.image,src:r.img})),a.a.createElement("div",{className:"right-block"},a.a.createElement("div",{style:{fontSize:20}},c),a.a.createElement("div",{style:{color:"#777"}},"price:",n),a.a.createElement("div",{style:{color:"#777"}},"qty:",o),a.a.createElement("div",{className:"cart-item-actions"},a.a.createElement("img",{alt:"",className:"action-icons",src:"https://image.flaticon.com/icons/svg/748/748113.svg",onClick:function(){return i(r)}}),a.a.createElement("img",{alt:"",className:"action-icons",src:"https://image.flaticon.com/icons/svg/864/864373.svg",onClick:function(){return s(r)}}),a.a.createElement("img",{alt:"",className:"action-icons",src:"https://image.flaticon.com/icons/svg/1214/1214428.svg",onClick:function(){return l(r.id)}}))))},p={cartIcon:{height:32,marginRight:20},nav:{height:70,background:"#4267b2",display:"flex",justifyContent:"space-between",alignItems:"center"},cartIconContainer:{position:"relative"},cartCount:{background:"yellow",borderRadius:"50%",padding:"4px 8px",position:"absolute",right:0,top:-9}},g=function(t){return a.a.createElement("div",{style:p.nav},a.a.createElement("h2",{style:{color:"yellow"}},"My WishList"),a.a.createElement("div",{style:p.cartIconContainer},a.a.createElement("img",{style:p.cartIcon,src:"https://image.flaticon.com/icons/svg/2121/2121815.svg",alt:"cart-icon"}),a.a.createElement("span",{style:p.cartCount},t.count)))},h=function(t){var e=t.products;return a.a.createElement("div",{className:"cart"},e.map((function(e){return a.a.createElement(m,{product:e,key:e.id,onIncreaseQuantity:t.onIncreaseQuantity,onDecreaseQuantity:t.onDecreaseQuantity,onDeleteProduct:t.onDeleteProduct})})))},f=n(8),y=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(i.a)(this,n),(t=e.call(this)).handleIncreaseQuantity=function(e){var n=t.state.products,c=n.indexOf(e);t.db.collection("products").doc(n[c].id).update({qty:n[c].qty+1}).then((function(){console.log("updated successfully")})).catch((function(t){console.log("Error:",t)}))},t.handleDecreaseQuantity=function(e){var n=t.state.products,c=n.indexOf(e),a=t.db.collection("products").doc(n[c].id);0!==n[c].qty&&a.update({qty:n[c].qty-1}).then((function(){console.log("updated successfully")})).catch((function(t){console.log("Error:",t)}))},t.handleDeleteProduct=function(e){t.state.products;t.db.collection("products").doc(e).delete().then((function(){console.log("delete successfully")})).catch((function(t){console.log("error:",t)}))},t.getCartCount=function(){var e=t.state.products,n=0;return e.forEach((function(t){n+=t.qty})),n},t.getCartTotal=function(){var e=t.state.products,n=0;return e.map((function(t){return t.qty>0&&(n+=t.qty*t.price),""})),n},t.addProduct=function(){t.db.collection("products").add({img:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcT9geqa_tNaFa9bZmnnkqPo0b2NqnVoql0mhg&usqp=CAU",price:900,qty:3,title:"washing machine"}).then((function(t){console.log("product has been added",t)})).catch((function(t){console.log("Error:",t)}))},t.state={products:[],loading:!0},t.db=f.firestore(),t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.db.collection("products").orderBy("price").onSnapshot((function(e){console.log(e),e.docs.map((function(t){console.log(t.data())}));var n=e.docs.map((function(t){var e=t.data();return e.id=t.id,e}));t.setState({products:n,loading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.products,n=t.loading;return a.a.createElement("div",{className:"App"},a.a.createElement(g,{count:this.getCartCount()}),a.a.createElement(h,{products:e,onIncreaseQuantity:this.handleIncreaseQuantity,onDecreaseQuantity:this.handleDecreaseQuantity,onDeleteProduct:this.handleDeleteProduct}),n&&a.a.createElement("h2",null,"Loading Products..."),a.a.createElement("div",{style:{padding:10,fontSize:20}},"TOTAL:",this.getCartTotal()))}}]),n}(a.a.Component);n(33);f.initializeApp({apiKey:"AIzaSyCMuLlJI3V__H55afAaikheYo3YkRcw1pw",authDomain:"cart-5571b.firebaseapp.com",databaseURL:"https://cart-5571b.firebaseio.com",projectId:"cart-5571b",storageBucket:"cart-5571b.appspot.com",messagingSenderId:"10823133082",appId:"1:10823133082:web:43c6d6d71cf7c48d023c23"}),r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(y,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.b6d9082a.chunk.js.map